<div class="card">
  <div class="font-semibold text-xl mb-4">Stepper</div>

  <p-stepper [(value)]="step" [linear]="true">
    <p-step-list>
      <p-step [value]="1">Step 1</p-step>
      <p-step [value]="2">Step 2</p-step>
      <p-step [value]="3">Confirm</p-step>
    </p-step-list>

    <p-step-panels>
      <p-step-panel [value]="1">
        <ng-template pTemplate="content" let-activateCallback="activateCallback">
          <form class="pt-4 space-y-4" [formGroup]="firstForm">
            <div class="flex flex-col gap-2">
              <label for="first" class="font-medium text-surface-700 dark:text-surface-0">First value</label>
              <input id="first" type="text" pInputText formControlName="first" class="w-full" />
              <small
                class="text-red-500"
                *ngIf="firstForm.controls.first.invalid && (firstForm.controls.first.dirty || firstForm.controls.first.touched)"
              >
                Required
              </small>
            </div>

            <div class="flex justify-end">
              <button
                pButton
                type="button"
                label="Next"
                (click)="goTo(activateCallback, 2)"
                [disabled]="firstForm.invalid"
              ></button>
            </div>
          </form>
        </ng-template>
      </p-step-panel>

      <p-step-panel [value]="2">
        <ng-template pTemplate="content" let-activateCallback="activateCallback">
          <form class="pt-4 space-y-4" [formGroup]="secondForm">
            <div class="flex flex-col gap-2">
              <label for="second" class="font-medium text-surface-700 dark:text-surface-0">Second value</label>
              <input id="second" type="text" pInputText formControlName="second" class="w-full" />
              <small
                class="text-red-500"
                *ngIf="secondForm.controls.second.invalid && (secondForm.controls.second.dirty || secondForm.controls.second.touched)"
              >
                Required
              </small>
            </div>

            <div class="flex justify-between">
              <button pButton type="button" label="Back" severity="secondary" (click)="goTo(activateCallback, 1)"></button>
              <button
                pButton
                type="button"
                label="Next"
                (click)="goTo(activateCallback, 3)"
                [disabled]="secondForm.invalid"
              ></button>
            </div>
          </form>
        </ng-template>
      </p-step-panel>

      <p-step-panel [value]="3">
        <ng-template pTemplate="content" let-activateCallback="activateCallback">
          <div class="pt-4 space-y-4">
            <div class="rounded border border-surface p-3">
              <div class="font-semibold mb-2">Review</div>
              <div class="text-sm text-surface-700 dark:text-surface-0 space-y-1">
                <div>First: <span class="font-medium">{{ firstForm.value.first }}</span></div>
                <div>Second: <span class="font-medium">{{ secondForm.value.second }}</span></div>
              </div>
            </div>

            <div class="flex justify-between">
              <button pButton type="button" label="Back" severity="secondary" (click)="goTo(activateCallback, 2)"></button>
              <button pButton type="button" label="Confirm" (click)="confirm()"></button>
            </div>
          </div>
        </ng-template>
      </p-step-panel>
    </p-step-panels>
  </p-stepper>
</div>
