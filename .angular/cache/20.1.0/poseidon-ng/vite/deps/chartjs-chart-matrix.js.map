{
  "version": 3,
  "sources": ["../../../../../../node_modules/chartjs-chart-matrix/dist/chartjs-chart-matrix.esm.js"],
  "sourcesContent": ["/*!\r\n * chartjs-chart-matrix v0.0.0-development\r\n * https://chartjs-chart-matrix.pages.dev/\r\n * (c) 2025 Jukka Kurkela\r\n * Released under the MIT license\r\n */\r\nimport { DatasetController, Element } from 'chart.js';\r\nimport { isObject, toTRBLCorners, addRoundedRectPath } from 'chart.js/helpers';\r\n\r\nvar version = \"0.0.0-development\";\r\n\r\nclass MatrixController extends DatasetController {\r\n    initialize() {\r\n        this.enableOptionSharing = true;\r\n        super.initialize();\r\n    }\r\n    update(mode) {\r\n        const meta = this._cachedMeta;\r\n        this.updateElements(meta.data, 0, meta.data.length, mode);\r\n    }\r\n    updateElements(rects, start, count, mode) {\r\n        const reset = mode === 'reset';\r\n        const { xScale, yScale } = this._cachedMeta;\r\n        const firstOpts = this.resolveDataElementOptions(start, mode);\r\n        const sharedOptions = this.getSharedOptions(firstOpts);\r\n        for(let i = start; i < start + count; i++){\r\n            const parsed = !reset && this.getParsed(i);\r\n            const x = reset ? xScale.getBasePixel() : xScale.getPixelForValue(parsed.x);\r\n            const y = reset ? yScale.getBasePixel() : yScale.getPixelForValue(parsed.y);\r\n            const options = this.resolveDataElementOptions(i, mode);\r\n            const { width, height, anchorX, anchorY } = options;\r\n            const properties = {\r\n                x: resolveX(anchorX, x, width),\r\n                y: resolveY(anchorY, y, height),\r\n                width,\r\n                height,\r\n                options\r\n            };\r\n            this.updateElement(rects[i], i, properties, mode);\r\n        }\r\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\r\n    }\r\n    draw() {\r\n        const ctx = this.chart.ctx;\r\n        const data = this.getMeta().data || [];\r\n        let i, ilen;\r\n        for(i = 0, ilen = data.length; i < ilen; ++i){\r\n            data[i].draw(ctx);\r\n        }\r\n    }\r\n}\r\nMatrixController.id = 'matrix';\r\nMatrixController.version = version;\r\nMatrixController.defaults = {\r\n    dataElementType: 'matrix',\r\n    animations: {\r\n        numbers: {\r\n            type: 'number',\r\n            properties: [\r\n                'x',\r\n                'y',\r\n                'width',\r\n                'height'\r\n            ]\r\n        }\r\n    }\r\n};\r\nMatrixController.overrides = {\r\n    interaction: {\r\n        mode: 'nearest',\r\n        intersect: true\r\n    },\r\n    scales: {\r\n        x: {\r\n            type: 'linear',\r\n            offset: true\r\n        },\r\n        y: {\r\n            type: 'linear',\r\n            reverse: true\r\n        }\r\n    }\r\n};\r\nfunction resolveX(anchorX, x, width) {\r\n    if (anchorX === 'left' || anchorX === 'start') {\r\n        return x;\r\n    }\r\n    if (anchorX === 'right' || anchorX === 'end') {\r\n        return x - width;\r\n    }\r\n    return x - width / 2;\r\n}\r\nfunction resolveY(anchorY, y, height) {\r\n    if (anchorY === 'top' || anchorY === 'start') {\r\n        return y;\r\n    }\r\n    if (anchorY === 'bottom' || anchorY === 'end') {\r\n        return y - height;\r\n    }\r\n    return y - height / 2;\r\n}\r\n\r\nfunction getBounds(element, useFinalPosition) {\r\n    const { x, y, width, height } = element.getProps([\r\n        'x',\r\n        'y',\r\n        'width',\r\n        'height'\r\n    ], useFinalPosition);\r\n    return {\r\n        left: x,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: y + height\r\n    };\r\n}\r\nfunction limit(value, min, max) {\r\n    return Math.max(Math.min(value, max), min);\r\n}\r\nfunction parseBorderWidth(options, maxW, maxH) {\r\n    const value = options.borderWidth;\r\n    let t, r, b, l;\r\n    if (isObject(value)) {\r\n        t = +value.top || 0;\r\n        r = +value.right || 0;\r\n        b = +value.bottom || 0;\r\n        l = +value.left || 0;\r\n    } else {\r\n        t = r = b = l = +value || 0;\r\n    }\r\n    return {\r\n        t: limit(t, 0, maxH),\r\n        r: limit(r, 0, maxW),\r\n        b: limit(b, 0, maxH),\r\n        l: limit(l, 0, maxW)\r\n    };\r\n}\r\nfunction boundingRects(element) {\r\n    const bounds = getBounds(element, false);\r\n    const width = bounds.right - bounds.left;\r\n    const height = bounds.bottom - bounds.top;\r\n    const border = parseBorderWidth(element.options, width / 2, height / 2);\r\n    return {\r\n        outer: {\r\n            x: bounds.left,\r\n            y: bounds.top,\r\n            w: width,\r\n            h: height\r\n        },\r\n        inner: {\r\n            x: bounds.left + border.l,\r\n            y: bounds.top + border.t,\r\n            w: width - border.l - border.r,\r\n            h: height - border.t - border.b\r\n        }\r\n    };\r\n}\r\nfunction inRange(element, x, y, useFinalPosition) {\r\n    const skipX = x === null;\r\n    const skipY = y === null;\r\n    const bounds = !element || skipX && skipY ? false : getBounds(element, useFinalPosition);\r\n    return bounds && (skipX || x >= bounds.left && x <= bounds.right) && (skipY || y >= bounds.top && y <= bounds.bottom);\r\n}\r\n\r\nclass MatrixElement extends Element {\r\n    draw(ctx) {\r\n        const options = this.options;\r\n        const { inner, outer } = boundingRects(this);\r\n        const radius = toTRBLCorners(options.borderRadius);\r\n        ctx.save();\r\n        if (outer.w !== inner.w || outer.h !== inner.h) {\r\n            ctx.beginPath();\r\n            addRoundedRectPath(ctx, {\r\n                x: outer.x,\r\n                y: outer.y,\r\n                w: outer.w,\r\n                h: outer.h,\r\n                radius\r\n            });\r\n            addRoundedRectPath(ctx, {\r\n                x: inner.x,\r\n                y: inner.y,\r\n                w: inner.w,\r\n                h: inner.h,\r\n                radius\r\n            });\r\n            ctx.fillStyle = options.backgroundColor;\r\n            ctx.fill();\r\n            ctx.fillStyle = options.borderColor;\r\n            ctx.fill('evenodd');\r\n        } else {\r\n            ctx.beginPath();\r\n            addRoundedRectPath(ctx, {\r\n                x: inner.x,\r\n                y: inner.y,\r\n                w: inner.w,\r\n                h: inner.h,\r\n                radius\r\n            });\r\n            ctx.fillStyle = options.backgroundColor;\r\n            ctx.fill();\r\n        }\r\n        ctx.restore();\r\n    }\r\n    inRange(mouseX, mouseY, useFinalPosition) {\r\n        return inRange(this, mouseX, mouseY, useFinalPosition);\r\n    }\r\n    inXRange(mouseX, useFinalPosition) {\r\n        return inRange(this, mouseX, null, useFinalPosition);\r\n    }\r\n    inYRange(mouseY, useFinalPosition) {\r\n        return inRange(this, null, mouseY, useFinalPosition);\r\n    }\r\n    getCenterPoint(useFinalPosition) {\r\n        const { x, y, width, height } = this.getProps([\r\n            'x',\r\n            'y',\r\n            'width',\r\n            'height'\r\n        ], useFinalPosition);\r\n        return {\r\n            x: x + width / 2,\r\n            y: y + height / 2\r\n        };\r\n    }\r\n    tooltipPosition() {\r\n        return this.getCenterPoint();\r\n    }\r\n    getRange(axis) {\r\n        return axis === 'x' ? this.width / 2 : this.height / 2;\r\n    }\r\n    constructor(cfg){\r\n        super();\r\n        if (cfg) {\r\n            Object.assign(this, cfg);\r\n        }\r\n    }\r\n}\r\nMatrixElement.id = 'matrix';\r\nMatrixElement.defaults = {\r\n    backgroundColor: undefined,\r\n    borderColor: undefined,\r\n    borderWidth: undefined,\r\n    borderRadius: 0,\r\n    anchorX: 'center',\r\n    anchorY: 'center',\r\n    width: 20,\r\n    height: 20\r\n};\r\n\r\nexport { MatrixController, MatrixElement };\r\n"],
  "mappings": "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",
  "names": []
}
